<!DOCTYPE html>
<html>    
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width initial-scale=1">

    <title>《redis设计与实践》学习</title>
    <meta name="description"
          content="">
    <link rel="shortcut icon" href="/images/favicon.ico">
    
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://chchmlml.github.io/redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E8%B7%B5/2017/08/07/redis-learn.html">
    <link rel="alternate" type="application/atom+xml" title="haicheng的博客" href="https://chchmlml.github.io/feed.xml" />
    <script src="/scripts/jquery-1.11.2.min.js"></script>
    <script src="/scripts/pithy.js"></script>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>


  <body>
    <header class="header">
    <div class="header-container">
        <div class="nav">
            
            <li>
                <a href="/index.html">首页</a>
            </li>
            
            
            <li>
                <a href="/archive.html">归档</a>
            </li>
            
            
            <li>
                <a href="/category.html">分类</a>
            </li>
            
            
            <li>
                <a href="/about.html">about</a>
            </li>
            
        </div>
        <div class="description"> 博观而约取，厚积而薄发。</div>
        <ul class="social-links">
            <li>
                <a href="https://weibo.com/chchmlml" title="Weibo" target="_blank">
                    <img width="19px" height="19px" src="/images/weibo.png"/>
                </a>
            </li>
            <li>
                <a href="https://github.com/chchmlml" title="Github" target="_blank">
                    <img width="19px" height="19px" src="/images/github.png"/>
                </a>
            </li>
            <li>
            <a href="https://twitter.com/chchmlml" title="Twitter" target="_blank">
                <img width="19px" height="19px" src="/images/twitter.png"/>
            </a>
            </li>
            <li>
                <a href="/feed.xml" title="RSS" target="_blank">
                    <img width="19px" height="19px" src="/images/rss.png"/>
                </a>
            </li>
        </ul>
    </div>
</header>

    <br>
    <div class="page-content">
      <div class="wrapper">
        <div class="post">
  <br>
  <header class="post-header">
    <h1 class="post-title">《redis设计与实践》学习</h1>
    <p class="post-meta">Aug 7, 2017 • haicheng</p>
  </header>

  <article class="post-content">
    <ul id="markdown-toc">
  <li><a href="#引言" id="markdown-toc-引言">引言</a></li>
  <li><a href="#数据结构与对象" id="markdown-toc-数据结构与对象">数据结构与对象</a>    <ul>
      <li><a href="#简单动态字符串-sds" id="markdown-toc-简单动态字符串-sds">简单动态字符串 SDS</a></li>
      <li><a href="#链表" id="markdown-toc-链表">链表</a></li>
      <li><a href="#字典" id="markdown-toc-字典">字典</a></li>
      <li><a href="#跳跃表" id="markdown-toc-跳跃表">跳跃表</a></li>
      <li><a href="#整数集合" id="markdown-toc-整数集合">整数集合</a></li>
      <li><a href="#压缩列表" id="markdown-toc-压缩列表">压缩列表</a></li>
      <li><a href="#对象" id="markdown-toc-对象">对象</a></li>
    </ul>
  </li>
  <li><a href="#单机数据库实现" id="markdown-toc-单机数据库实现">单机数据库实现</a>    <ul>
      <li><a href="#数据库" id="markdown-toc-数据库">数据库</a></li>
      <li><a href="#rdb持久化" id="markdown-toc-rdb持久化">RDB持久化</a></li>
      <li><a href="#aof持久化" id="markdown-toc-aof持久化">AOF持久化</a></li>
      <li><a href="#事件" id="markdown-toc-事件">事件</a></li>
      <li><a href="#客户端" id="markdown-toc-客户端">客户端</a></li>
      <li><a href="#服务器" id="markdown-toc-服务器">服务器</a></li>
    </ul>
  </li>
  <li><a href="#多机数据库实现" id="markdown-toc-多机数据库实现">多机数据库实现</a></li>
  <li><a href="#独立功能实现" id="markdown-toc-独立功能实现">独立功能实现</a></li>
</ul>
<hr />

<h1 id="引言">引言</h1>

<h1 id="数据结构与对象">数据结构与对象</h1>

<h3 id="简单动态字符串-sds">简单动态字符串 SDS</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>redis用C的字符串作为字面量，SDS取而代之。好处
获取长度常量复杂度
杜绝缓冲溢出
减少长度修改分配内存次数
二进制安全
兼容部分C字符串
</code></pre>
</div>

<h3 id="链表">链表</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>用途较广、订阅、慢查询等
链表节点listNode结构、双向链表
链表为list结构有头尾结构信息，长度信息
头结点头指向、尾节点尾指向null
节点保存不同类型
</code></pre>
</div>

<h3 id="字典">字典</h3>
<h3 id="跳跃表">跳跃表</h3>
<h3 id="整数集合">整数集合</h3>
<h3 id="压缩列表">压缩列表</h3>
<h3 id="对象">对象</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>redis的键值对的键和值都是一个对象
redis有字符串、 列表、hash、集合、有序集合五种类型，每种有至少两种以上编码
不同编码效率不同

执行命令之前会检查特定的键是否可以执行这个命令
对象都带有计数垃圾回收机制
共享0到9999的字符串对象
每次最后的访问时间会被对象记录，计算空间的回转时间
</code></pre>
</div>

<h1 id="单机数据库实现">单机数据库实现</h1>

<h3 id="数据库">数据库</h3>
<h3 id="rdb持久化">RDB持久化</h3>
<h3 id="aof持久化">AOF持久化</h3>
<h3 id="事件">事件</h3>
<h3 id="客户端">客户端</h3>
<h3 id="服务器">服务器</h3>

<h1 id="多机数据库实现">多机数据库实现</h1>

<h1 id="独立功能实现">独立功能实现</h1>


  </article>
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key=/redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E8%B7%B5/2017/08/07/redis-learn data-title=《redis设计与实践》学习 data-url=博观而约取，厚积而薄发。//redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E8%B7%B5/2017/08/07/redis-learn.html></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"pawpaw"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</div>

      </div>
    </div>
    
    <footer class="footer">
  <div id="gotop">^</div>
  <br>
	@2015 Pithy Theme by Pawpaw.<span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
</footer>

    
  </body>

</html>
